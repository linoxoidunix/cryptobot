\hypertarget{os_8h_source}{}\doxysection{os.\+h}
\label{os_8h_source}\index{/home/linoxoidunix/Programming/cplusplus/cryptobot/bybit/third\_party/fmt/os.h@{/home/linoxoidunix/Programming/cplusplus/cryptobot/bybit/third\_party/fmt/os.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// Formatting library for C++ -\/ optional OS-\/specific functionality}}
\DoxyCodeLine{2 \textcolor{comment}{//}}
\DoxyCodeLine{3 \textcolor{comment}{// Copyright (c) 2012 -\/ present, Victor Zverovich}}
\DoxyCodeLine{4 \textcolor{comment}{// All rights reserved.}}
\DoxyCodeLine{5 \textcolor{comment}{//}}
\DoxyCodeLine{6 \textcolor{comment}{// For the license information refer to format.h.}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#ifndef FMT\_OS\_H\_}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#define FMT\_OS\_H\_}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <cerrno>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <cstddef>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <cstdio>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <system\_error>}  \textcolor{comment}{// std::system\_error}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{preprocessor}{\#if defined \_\_APPLE\_\_ || defined(\_\_FreeBSD\_\_)}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#  include <xlocale.h>}  \textcolor{comment}{// for LC\_NUMERIC\_MASK on OS X}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include "{}format.h"{}}}
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{preprocessor}{\#ifndef FMT\_USE\_FCNTL}}
\DoxyCodeLine{23 \textcolor{comment}{// UWP doesn't provide \_pipe.}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#  if FMT\_HAS\_INCLUDE("{}winapifamily.h"{}})}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#    include <winapifamily.h>}}
\DoxyCodeLine{26 \textcolor{preprocessor}{\#  endif}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#  if (FMT\_HAS\_INCLUDE(<fcntl.h>) || defined(\_\_APPLE\_\_) || \(\backslash\)}}
\DoxyCodeLine{28 \textcolor{preprocessor}{       defined(\_\_linux\_\_)) \&\&                              \(\backslash\)}}
\DoxyCodeLine{29 \textcolor{preprocessor}{      (!defined(WINAPI\_FAMILY) ||                          \(\backslash\)}}
\DoxyCodeLine{30 \textcolor{preprocessor}{       (WINAPI\_FAMILY == WINAPI\_FAMILY\_DESKTOP\_APP))}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#    include <fcntl.h>}  \textcolor{comment}{// for O\_RDONLY}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#    define FMT\_USE\_FCNTL 1}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#  else}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#    define FMT\_USE\_FCNTL 0}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#  endif}}
\DoxyCodeLine{36 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{37 }
\DoxyCodeLine{38 \textcolor{preprocessor}{\#ifndef FMT\_POSIX}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#  if defined(\_WIN32) \&\& !defined(\_\_MINGW32\_\_)}}
\DoxyCodeLine{40 \textcolor{comment}{// Fix warnings about deprecated symbols.}}
\DoxyCodeLine{41 \textcolor{preprocessor}{\#    define FMT\_POSIX(call) \_\#\#call}}
\DoxyCodeLine{42 \textcolor{preprocessor}{\#  else}}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#    define FMT\_POSIX(call) call}}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#  endif}}
\DoxyCodeLine{45 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{46 }
\DoxyCodeLine{47 \textcolor{comment}{// Calls to system functions are wrapped in FMT\_SYSTEM for testability.}}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#ifdef FMT\_SYSTEM}}
\DoxyCodeLine{49 \textcolor{preprocessor}{\#  define FMT\_POSIX\_CALL(call) FMT\_SYSTEM(call)}}
\DoxyCodeLine{50 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{51 \textcolor{preprocessor}{\#  define FMT\_SYSTEM(call) ::call}}
\DoxyCodeLine{52 \textcolor{preprocessor}{\#  ifdef \_WIN32}}
\DoxyCodeLine{53 \textcolor{comment}{// Fix warnings about deprecated symbols.}}
\DoxyCodeLine{54 \textcolor{preprocessor}{\#    define FMT\_POSIX\_CALL(call) ::\_\#\#call}}
\DoxyCodeLine{55 \textcolor{preprocessor}{\#  else}}
\DoxyCodeLine{56 \textcolor{preprocessor}{\#    define FMT\_POSIX\_CALL(call) ::call}}
\DoxyCodeLine{57 \textcolor{preprocessor}{\#  endif}}
\DoxyCodeLine{58 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{59 }
\DoxyCodeLine{60 \textcolor{comment}{// Retries the expression while it evaluates to error\_result and errno}}
\DoxyCodeLine{61 \textcolor{comment}{// equals to EINTR.}}
\DoxyCodeLine{62 \textcolor{preprocessor}{\#ifndef \_WIN32}}
\DoxyCodeLine{63 \textcolor{preprocessor}{\#  define FMT\_RETRY\_VAL(result, expression, error\_result) \(\backslash\)}}
\DoxyCodeLine{64 \textcolor{preprocessor}{    do \{                                                  \(\backslash\)}}
\DoxyCodeLine{65 \textcolor{preprocessor}{      (result) = (expression);                            \(\backslash\)}}
\DoxyCodeLine{66 \textcolor{preprocessor}{    \} while ((result) == (error\_result) \&\& errno == EINTR)}}
\DoxyCodeLine{67 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{68 \textcolor{preprocessor}{\#  define FMT\_RETRY\_VAL(result, expression, error\_result) result = (expression)}}
\DoxyCodeLine{69 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{70 }
\DoxyCodeLine{71 \textcolor{preprocessor}{\#define FMT\_RETRY(result, expression) FMT\_RETRY\_VAL(result, expression, -\/1)}}
\DoxyCodeLine{72 }
\DoxyCodeLine{73 FMT\_BEGIN\_NAMESPACE}
\DoxyCodeLine{74 FMT\_BEGIN\_EXPORT}
\DoxyCodeLine{75 }
\DoxyCodeLine{101 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Char> \textcolor{keyword}{class }\mbox{\hyperlink{classbasic__cstring__view}{basic\_cstring\_view}} \{}
\DoxyCodeLine{102  \textcolor{keyword}{private}:}
\DoxyCodeLine{103   \textcolor{keyword}{const} Char* data\_;}
\DoxyCodeLine{104 }
\DoxyCodeLine{105  \textcolor{keyword}{public}:}
\DoxyCodeLine{107   \mbox{\hyperlink{classbasic__cstring__view_ab464b2378652892cec4716d3e3d475c7}{basic\_cstring\_view}}(\textcolor{keyword}{const} Char* s) : data\_(s) \{\}}
\DoxyCodeLine{108 }
\DoxyCodeLine{114   \mbox{\hyperlink{classbasic__cstring__view_a10b92cc0e3e67789601984099b9ed339}{basic\_cstring\_view}}(\textcolor{keyword}{const} std::basic\_string<Char>\& s) : data\_(s.\mbox{\hyperlink{classbasic__cstring__view_ae2cd254a4686dd81753751193af179a8}{c\_str}}()) \{\}}
\DoxyCodeLine{115 }
\DoxyCodeLine{117   \textcolor{keyword}{const} Char* \mbox{\hyperlink{classbasic__cstring__view_ae2cd254a4686dd81753751193af179a8}{c\_str}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} data\_; \}}
\DoxyCodeLine{118 \};}
\DoxyCodeLine{119 }
\DoxyCodeLine{120 \textcolor{keyword}{using }\mbox{\hyperlink{classbasic__cstring__view}{cstring\_view}} = \mbox{\hyperlink{classbasic__cstring__view}{basic\_cstring\_view<char>}};}
\DoxyCodeLine{121 \textcolor{keyword}{using }\mbox{\hyperlink{classbasic__cstring__view}{wcstring\_view}} = \mbox{\hyperlink{classbasic__cstring__view}{basic\_cstring\_view<wchar\_t>}};}
\DoxyCodeLine{122 }
\DoxyCodeLine{123 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{124 FMT\_API \textcolor{keyword}{const} std::error\_category\& system\_category() noexcept;}
\DoxyCodeLine{125 }
\DoxyCodeLine{126 namespace detail \{}
\DoxyCodeLine{127 FMT\_API \textcolor{keywordtype}{void} format\_windows\_error(buffer<char>\& out, \textcolor{keywordtype}{int} error\_code,}
\DoxyCodeLine{128                                   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* message) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{129 \}}
\DoxyCodeLine{130 }
\DoxyCodeLine{131 FMT\_API std::system\_error vwindows\_error(\textcolor{keywordtype}{int} error\_code, \mbox{\hyperlink{classbasic__string__view}{string\_view}} format\_str,}
\DoxyCodeLine{132                                          \mbox{\hyperlink{classbasic__format__args}{format\_args}} args);}
\DoxyCodeLine{133 }
\DoxyCodeLine{162 \textcolor{keyword}{template} <\textcolor{keyword}{typename}... \mbox{\hyperlink{classArgs}{Args}}>}
\DoxyCodeLine{163 std::system\_error windows\_error(\textcolor{keywordtype}{int} error\_code, \mbox{\hyperlink{classbasic__string__view}{string\_view}} message,}
\DoxyCodeLine{164                                 \textcolor{keyword}{const} \mbox{\hyperlink{classArgs}{Args}}\&... args) \{}
\DoxyCodeLine{165   \textcolor{keywordflow}{return} vwindows\_error(error\_code, message, fmt::make\_format\_args(args...));}
\DoxyCodeLine{166 \}}
\DoxyCodeLine{167 }
\DoxyCodeLine{168 \textcolor{comment}{// Reports a Windows error without throwing an exception.}}
\DoxyCodeLine{169 \textcolor{comment}{// Can be used to report errors from destructors.}}
\DoxyCodeLine{170 FMT\_API \textcolor{keywordtype}{void} report\_windows\_error(\textcolor{keywordtype}{int} error\_code, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* message) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{171 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{172 \textcolor{keyword}{inline} \textcolor{keyword}{const} std::error\_category\& system\_category() noexcept \{}
\DoxyCodeLine{173   \textcolor{keywordflow}{return} std::system\_category();}
\DoxyCodeLine{174 \}}
\DoxyCodeLine{175 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_WIN32}}
\DoxyCodeLine{176 }
\DoxyCodeLine{177 \textcolor{comment}{// std::system is not available on some platforms such as iOS (\#2248).}}
\DoxyCodeLine{178 \textcolor{preprocessor}{\#ifdef \_\_OSX\_\_}}
\DoxyCodeLine{179 \textcolor{keyword}{template} <\textcolor{keyword}{typename} S, \textcolor{keyword}{typename}... \mbox{\hyperlink{classArgs}{Args}}, \textcolor{keyword}{typename} Char = char\_t<S>>}
\DoxyCodeLine{180 \textcolor{keywordtype}{void} say(\textcolor{keyword}{const} S\& format\_str, \mbox{\hyperlink{classArgs}{Args}}\&\&... args) \{}
\DoxyCodeLine{181   std::system(format(\textcolor{stringliteral}{"{}say \(\backslash\)"{}\{\}\(\backslash\)"{}"{}}, format(format\_str, args...)).c\_str());}
\DoxyCodeLine{182 \}}
\DoxyCodeLine{183 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{184 }
\DoxyCodeLine{185 \textcolor{comment}{// A buffered file.}}
\DoxyCodeLine{186 \textcolor{keyword}{class }\mbox{\hyperlink{classbuffered__file}{buffered\_file}} \{}
\DoxyCodeLine{187  \textcolor{keyword}{private}:}
\DoxyCodeLine{188   FILE* file\_;}
\DoxyCodeLine{189 }
\DoxyCodeLine{190   \textcolor{keyword}{friend} \textcolor{keyword}{class }file;}
\DoxyCodeLine{191 }
\DoxyCodeLine{192   \textcolor{keyword}{explicit} \mbox{\hyperlink{classbuffered__file}{buffered\_file}}(FILE* f) : file\_(f) \{\}}
\DoxyCodeLine{193 }
\DoxyCodeLine{194  \textcolor{keyword}{public}:}
\DoxyCodeLine{195   \mbox{\hyperlink{classbuffered__file}{buffered\_file}}(\textcolor{keyword}{const} \mbox{\hyperlink{classbuffered__file}{buffered\_file}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{196   \textcolor{keywordtype}{void} operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classbuffered__file}{buffered\_file}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{197 }
\DoxyCodeLine{198   \textcolor{comment}{// Constructs a buffered\_file object which doesn't represent any file.}}
\DoxyCodeLine{199   \mbox{\hyperlink{classbuffered__file}{buffered\_file}}() noexcept : file\_(\textcolor{keyword}{nullptr}) \{\}}
\DoxyCodeLine{200 }
\DoxyCodeLine{201   \textcolor{comment}{// Destroys the object closing the file it represents if any.}}
\DoxyCodeLine{202   FMT\_API \mbox{\hyperlink{classbuffered__file}{\string~buffered\_file}}() \textcolor{keyword}{noexcept};}
\DoxyCodeLine{203 }
\DoxyCodeLine{204  \textcolor{keyword}{public}:}
\DoxyCodeLine{205   \mbox{\hyperlink{classbuffered__file}{buffered\_file}}(\mbox{\hyperlink{classbuffered__file}{buffered\_file}}\&\& other) noexcept : file\_(other.file\_) \{}
\DoxyCodeLine{206     other.file\_ = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{207   \}}
\DoxyCodeLine{208 }
\DoxyCodeLine{209   \mbox{\hyperlink{classbuffered__file}{buffered\_file}}\& operator=(\mbox{\hyperlink{classbuffered__file}{buffered\_file}}\&\& other) \{}
\DoxyCodeLine{210     close();}
\DoxyCodeLine{211     file\_ = other.file\_;}
\DoxyCodeLine{212     other.file\_ = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{213     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{214   \}}
\DoxyCodeLine{215 }
\DoxyCodeLine{216   \textcolor{comment}{// Opens a file.}}
\DoxyCodeLine{217   FMT\_API \mbox{\hyperlink{classbuffered__file}{buffered\_file}}(\mbox{\hyperlink{classbasic__cstring__view}{cstring\_view}} filename, \mbox{\hyperlink{classbasic__cstring__view}{cstring\_view}} mode);}
\DoxyCodeLine{218 }
\DoxyCodeLine{219   \textcolor{comment}{// Closes the file.}}
\DoxyCodeLine{220   FMT\_API \textcolor{keywordtype}{void} close();}
\DoxyCodeLine{221 }
\DoxyCodeLine{222   \textcolor{comment}{// Returns the pointer to a FILE object representing this file.}}
\DoxyCodeLine{223   FILE* get() \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \{ \textcolor{keywordflow}{return} file\_; \}}
\DoxyCodeLine{224 }
\DoxyCodeLine{225   FMT\_API \textcolor{keywordtype}{int} descriptor() \textcolor{keyword}{const};}
\DoxyCodeLine{226 }
\DoxyCodeLine{227   \textcolor{keywordtype}{void} vprint(\mbox{\hyperlink{classbasic__string__view}{string\_view}} format\_str, \mbox{\hyperlink{classbasic__format__args}{format\_args}} args) \{}
\DoxyCodeLine{228     fmt::vprint(file\_, format\_str, args);}
\DoxyCodeLine{229   \}}
\DoxyCodeLine{230 }
\DoxyCodeLine{231   \textcolor{keyword}{template} <\textcolor{keyword}{typename}... \mbox{\hyperlink{classArgs}{Args}}>}
\DoxyCodeLine{232   \textcolor{keyword}{inline} \textcolor{keywordtype}{void} print(\mbox{\hyperlink{classbasic__string__view}{string\_view}} format\_str, \textcolor{keyword}{const} \mbox{\hyperlink{classArgs}{Args}}\&... args) \{}
\DoxyCodeLine{233     vprint(format\_str, fmt::make\_format\_args(args...));}
\DoxyCodeLine{234   \}}
\DoxyCodeLine{235 \};}
\DoxyCodeLine{236 }
\DoxyCodeLine{237 \textcolor{preprocessor}{\#if FMT\_USE\_FCNTL}}
\DoxyCodeLine{238 \textcolor{comment}{// A file. Closed file is represented by a file object with descriptor -\/1.}}
\DoxyCodeLine{239 \textcolor{comment}{// Methods that are not declared with noexcept may throw}}
\DoxyCodeLine{240 \textcolor{comment}{// fmt::system\_error in case of failure. Note that some errors such as}}
\DoxyCodeLine{241 \textcolor{comment}{// closing the file multiple times will cause a crash on Windows rather}}
\DoxyCodeLine{242 \textcolor{comment}{// than an exception. You can get standard behavior by overriding the}}
\DoxyCodeLine{243 \textcolor{comment}{// invalid parameter handler with \_set\_invalid\_parameter\_handler.}}
\DoxyCodeLine{244 \textcolor{keyword}{class }FMT\_API file \{}
\DoxyCodeLine{245  \textcolor{keyword}{private}:}
\DoxyCodeLine{246   \textcolor{keywordtype}{int} fd\_;  \textcolor{comment}{// File descriptor.}}
\DoxyCodeLine{247 }
\DoxyCodeLine{248   \textcolor{comment}{// Constructs a file object with a given descriptor.}}
\DoxyCodeLine{249   \textcolor{keyword}{explicit} file(\textcolor{keywordtype}{int} fd) : fd\_(fd) \{\}}
\DoxyCodeLine{250 }
\DoxyCodeLine{251  \textcolor{keyword}{public}:}
\DoxyCodeLine{252   \textcolor{comment}{// Possible values for the oflag argument to the constructor.}}
\DoxyCodeLine{253   \textcolor{keyword}{enum} \{}
\DoxyCodeLine{254     RDONLY = FMT\_POSIX(O\_RDONLY),  \textcolor{comment}{// Open for reading only.}}
\DoxyCodeLine{255     WRONLY = FMT\_POSIX(O\_WRONLY),  \textcolor{comment}{// Open for writing only.}}
\DoxyCodeLine{256     RDWR = FMT\_POSIX(O\_RDWR),      \textcolor{comment}{// Open for reading and writing.}}
\DoxyCodeLine{257     CREATE = FMT\_POSIX(O\_CREAT),   \textcolor{comment}{// Create if the file doesn't exist.}}
\DoxyCodeLine{258     APPEND = FMT\_POSIX(O\_APPEND),  \textcolor{comment}{// Open in append mode.}}
\DoxyCodeLine{259     TRUNC = FMT\_POSIX(O\_TRUNC)     \textcolor{comment}{// Truncate the content of the file.}}
\DoxyCodeLine{260   \};}
\DoxyCodeLine{261 }
\DoxyCodeLine{262   \textcolor{comment}{// Constructs a file object which doesn't represent any file.}}
\DoxyCodeLine{263   file() noexcept : fd\_(-\/1) \{\}}
\DoxyCodeLine{264 }
\DoxyCodeLine{265   \textcolor{comment}{// Opens a file and constructs a file object representing this file.}}
\DoxyCodeLine{266   file(\mbox{\hyperlink{classbasic__cstring__view}{cstring\_view}} path, \textcolor{keywordtype}{int} oflag);}
\DoxyCodeLine{267 }
\DoxyCodeLine{268  \textcolor{keyword}{public}:}
\DoxyCodeLine{269   file(\textcolor{keyword}{const} file\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{270   \textcolor{keywordtype}{void} operator=(\textcolor{keyword}{const} file\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{271 }
\DoxyCodeLine{272   file(file\&\& other) noexcept : fd\_(other.fd\_) \{ other.fd\_ = -\/1; \}}
\DoxyCodeLine{273 }
\DoxyCodeLine{274   \textcolor{comment}{// Move assignment is not noexcept because close may throw.}}
\DoxyCodeLine{275   file\& operator=(file\&\& other) \{}
\DoxyCodeLine{276     close();}
\DoxyCodeLine{277     fd\_ = other.fd\_;}
\DoxyCodeLine{278     other.fd\_ = -\/1;}
\DoxyCodeLine{279     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{280   \}}
\DoxyCodeLine{281 }
\DoxyCodeLine{282   \textcolor{comment}{// Destroys the object closing the file it represents if any.}}
\DoxyCodeLine{283   \string~file() noexcept;}
\DoxyCodeLine{284 }
\DoxyCodeLine{285   \textcolor{comment}{// Returns the file descriptor.}}
\DoxyCodeLine{286   \textcolor{keywordtype}{int} descriptor() const noexcept \{ \textcolor{keywordflow}{return} fd\_; \}}
\DoxyCodeLine{287 }
\DoxyCodeLine{288   \textcolor{comment}{// Closes the file.}}
\DoxyCodeLine{289   \textcolor{keywordtype}{void} close();}
\DoxyCodeLine{290 }
\DoxyCodeLine{291   \textcolor{comment}{// Returns the file size. The size has signed type for consistency with}}
\DoxyCodeLine{292   \textcolor{comment}{// stat::st\_size.}}
\DoxyCodeLine{293   \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} size() \textcolor{keyword}{const};}
\DoxyCodeLine{294 }
\DoxyCodeLine{295   \textcolor{comment}{// Attempts to read count bytes from the file into the specified buffer.}}
\DoxyCodeLine{296   \textcolor{keywordtype}{size\_t} read(\textcolor{keywordtype}{void}* buffer, \textcolor{keywordtype}{size\_t} count);}
\DoxyCodeLine{297 }
\DoxyCodeLine{298   \textcolor{comment}{// Attempts to write count bytes from the specified buffer to the file.}}
\DoxyCodeLine{299   \textcolor{keywordtype}{size\_t} write(\textcolor{keyword}{const} \textcolor{keywordtype}{void}* buffer, \textcolor{keywordtype}{size\_t} count);}
\DoxyCodeLine{300 }
\DoxyCodeLine{301   \textcolor{comment}{// Duplicates a file descriptor with the dup function and returns}}
\DoxyCodeLine{302   \textcolor{comment}{// the duplicate as a file object.}}
\DoxyCodeLine{303   \textcolor{keyword}{static} file dup(\textcolor{keywordtype}{int} fd);}
\DoxyCodeLine{304 }
\DoxyCodeLine{305   \textcolor{comment}{// Makes fd be the copy of this file descriptor, closing fd first if}}
\DoxyCodeLine{306   \textcolor{comment}{// necessary.}}
\DoxyCodeLine{307   \textcolor{keywordtype}{void} dup2(\textcolor{keywordtype}{int} fd);}
\DoxyCodeLine{308 }
\DoxyCodeLine{309   \textcolor{comment}{// Makes fd be the copy of this file descriptor, closing fd first if}}
\DoxyCodeLine{310   \textcolor{comment}{// necessary.}}
\DoxyCodeLine{311   \textcolor{keywordtype}{void} dup2(\textcolor{keywordtype}{int} fd, std::error\_code\& ec) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{312 }
\DoxyCodeLine{313   \textcolor{comment}{// Creates a pipe setting up read\_end and write\_end file objects for reading}}
\DoxyCodeLine{314   \textcolor{comment}{// and writing respectively.}}
\DoxyCodeLine{315   \textcolor{keyword}{static} \textcolor{keywordtype}{void} pipe(file\& read\_end, file\& write\_end);}
\DoxyCodeLine{316 }
\DoxyCodeLine{317   \textcolor{comment}{// Creates a buffered\_file object associated with this file and detaches}}
\DoxyCodeLine{318   \textcolor{comment}{// this file object from the file.}}
\DoxyCodeLine{319   \mbox{\hyperlink{classbuffered__file}{buffered\_file}} fdopen(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* mode);}
\DoxyCodeLine{320 }
\DoxyCodeLine{321 \textcolor{preprocessor}{\#  if defined(\_WIN32) \&\& !defined(\_\_MINGW32\_\_)}}
\DoxyCodeLine{322   \textcolor{comment}{// Opens a file and constructs a file object representing this file by}}
\DoxyCodeLine{323   \textcolor{comment}{// wcstring\_view filename. Windows only.}}
\DoxyCodeLine{324   \textcolor{keyword}{static} file open\_windows\_file(\mbox{\hyperlink{classbasic__cstring__view}{wcstring\_view}} path, \textcolor{keywordtype}{int} oflag);}
\DoxyCodeLine{325 \textcolor{preprocessor}{\#  endif}}
\DoxyCodeLine{326 \};}
\DoxyCodeLine{327 }
\DoxyCodeLine{328 \textcolor{comment}{// Returns the memory page size.}}
\DoxyCodeLine{329 \textcolor{keywordtype}{long} getpagesize();}
\DoxyCodeLine{330 }
\DoxyCodeLine{331 \textcolor{keyword}{namespace }detail \{}
\DoxyCodeLine{332 }
\DoxyCodeLine{333 \textcolor{keyword}{struct }buffer\_size \{}
\DoxyCodeLine{334   buffer\_size() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{335   \textcolor{keywordtype}{size\_t} value = 0;}
\DoxyCodeLine{336   buffer\_size operator=(\textcolor{keywordtype}{size\_t} val)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{337     \textcolor{keyword}{auto} bs = buffer\_size();}
\DoxyCodeLine{338     bs.value = val;}
\DoxyCodeLine{339     \textcolor{keywordflow}{return} bs;}
\DoxyCodeLine{340   \}}
\DoxyCodeLine{341 \};}
\DoxyCodeLine{342 }
\DoxyCodeLine{343 \textcolor{keyword}{struct }ostream\_params \{}
\DoxyCodeLine{344   \textcolor{keywordtype}{int} oflag = file::WRONLY | file::CREATE | file::TRUNC;}
\DoxyCodeLine{345   \textcolor{keywordtype}{size\_t} buffer\_size = BUFSIZ > 32768 ? BUFSIZ : 32768;}
\DoxyCodeLine{346 }
\DoxyCodeLine{347   ostream\_params() \{\}}
\DoxyCodeLine{348 }
\DoxyCodeLine{349   \textcolor{keyword}{template} <\textcolor{keyword}{typename}... T>}
\DoxyCodeLine{350   ostream\_params(T... params, \textcolor{keywordtype}{int} new\_oflag) : ostream\_params(params...) \{}
\DoxyCodeLine{351     oflag = new\_oflag;}
\DoxyCodeLine{352   \}}
\DoxyCodeLine{353 }
\DoxyCodeLine{354   \textcolor{keyword}{template} <\textcolor{keyword}{typename}... T>}
\DoxyCodeLine{355   ostream\_params(T... params, detail::buffer\_size bs)}
\DoxyCodeLine{356       : ostream\_params(params...) \{}
\DoxyCodeLine{357     this-\/>buffer\_size = bs.value;}
\DoxyCodeLine{358   \}}
\DoxyCodeLine{359 }
\DoxyCodeLine{360 \textcolor{comment}{// Intel has a bug that results in failure to deduce a constructor}}
\DoxyCodeLine{361 \textcolor{comment}{// for empty parameter packs.}}
\DoxyCodeLine{362 \textcolor{preprocessor}{\#  if defined(\_\_INTEL\_COMPILER) \&\& \_\_INTEL\_COMPILER < 2000}}
\DoxyCodeLine{363   ostream\_params(\textcolor{keywordtype}{int} new\_oflag) : oflag(new\_oflag) \{\}}
\DoxyCodeLine{364   ostream\_params(detail::buffer\_size bs) : buffer\_size(bs.value) \{\}}
\DoxyCodeLine{365 \textcolor{preprocessor}{\#  endif}}
\DoxyCodeLine{366 \};}
\DoxyCodeLine{367 }
\DoxyCodeLine{368 \textcolor{keyword}{class }file\_buffer final : \textcolor{keyword}{public} buffer<char> \{}
\DoxyCodeLine{369   file file\_;}
\DoxyCodeLine{370 }
\DoxyCodeLine{371   FMT\_API \textcolor{keywordtype}{void} grow(\textcolor{keywordtype}{size\_t}) \textcolor{keyword}{override};}
\DoxyCodeLine{372 }
\DoxyCodeLine{373  \textcolor{keyword}{public}:}
\DoxyCodeLine{374   FMT\_API file\_buffer(\mbox{\hyperlink{classbasic__cstring__view}{cstring\_view}} path, \textcolor{keyword}{const} ostream\_params\& params);}
\DoxyCodeLine{375   FMT\_API file\_buffer(file\_buffer\&\& other);}
\DoxyCodeLine{376   FMT\_API \string~file\_buffer();}
\DoxyCodeLine{377 }
\DoxyCodeLine{378   \textcolor{keywordtype}{void} flush() \{}
\DoxyCodeLine{379     \textcolor{keywordflow}{if} (size() == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{380     file\_.write(data(), size() * \textcolor{keyword}{sizeof}(data()[0]));}
\DoxyCodeLine{381     clear();}
\DoxyCodeLine{382   \}}
\DoxyCodeLine{383 }
\DoxyCodeLine{384   \textcolor{keywordtype}{void} close() \{}
\DoxyCodeLine{385     flush();}
\DoxyCodeLine{386     file\_.close();}
\DoxyCodeLine{387   \}}
\DoxyCodeLine{388 \};}
\DoxyCodeLine{389 }
\DoxyCodeLine{390 \}  \textcolor{comment}{// namespace detail}}
\DoxyCodeLine{391 }
\DoxyCodeLine{392 \textcolor{comment}{// Added \{\} below to work around default constructor error known to}}
\DoxyCodeLine{393 \textcolor{comment}{// occur in Xcode versions 7.2.1 and 8.2.1.}}
\DoxyCodeLine{394 \textcolor{keyword}{constexpr} detail::buffer\_size buffer\_size\{\};}
\DoxyCodeLine{395 }
\DoxyCodeLine{397 \textcolor{keyword}{class }FMT\_API ostream \{}
\DoxyCodeLine{398  \textcolor{keyword}{private}:}
\DoxyCodeLine{399   FMT\_MSC\_WARNING(suppress : 4251)}
\DoxyCodeLine{400   detail::file\_buffer buffer\_;}
\DoxyCodeLine{401 }
\DoxyCodeLine{402   ostream(\mbox{\hyperlink{classbasic__cstring__view}{cstring\_view}} path, \textcolor{keyword}{const} detail::ostream\_params\& params)}
\DoxyCodeLine{403       : buffer\_(path, params) \{\}}
\DoxyCodeLine{404 }
\DoxyCodeLine{405  \textcolor{keyword}{public}:}
\DoxyCodeLine{406   ostream(ostream\&\& other) : buffer\_(std::move(other.buffer\_)) \{\}}
\DoxyCodeLine{407 }
\DoxyCodeLine{408   \string~ostream();}
\DoxyCodeLine{409 }
\DoxyCodeLine{410   \textcolor{keywordtype}{void} flush() \{ buffer\_.flush(); \}}
\DoxyCodeLine{411 }
\DoxyCodeLine{412   \textcolor{keyword}{template} <\textcolor{keyword}{typename}... T>}
\DoxyCodeLine{413   \textcolor{keyword}{friend} ostream output\_file(\mbox{\hyperlink{classbasic__cstring__view}{cstring\_view}} path, T... params);}
\DoxyCodeLine{414 }
\DoxyCodeLine{415   \textcolor{keywordtype}{void} close() \{ buffer\_.close(); \}}
\DoxyCodeLine{416 }
\DoxyCodeLine{421   \textcolor{keyword}{template} <\textcolor{keyword}{typename}... T> \textcolor{keywordtype}{void} print(\mbox{\hyperlink{classbasic__format__string}{format\_string<T...>}} fmt, T\&\&... args) \{}
\DoxyCodeLine{422     vformat\_to(detail::buffer\_appender<char>(buffer\_), fmt,}
\DoxyCodeLine{423                fmt::make\_format\_args(args...));}
\DoxyCodeLine{424   \}}
\DoxyCodeLine{425 \};}
\DoxyCodeLine{426 }
\DoxyCodeLine{442 \textcolor{keyword}{template} <\textcolor{keyword}{typename}... T>}
\DoxyCodeLine{443 \textcolor{keyword}{inline} ostream output\_file(\mbox{\hyperlink{classbasic__cstring__view}{cstring\_view}} path, T... params) \{}
\DoxyCodeLine{444   \textcolor{keywordflow}{return} \{path, detail::ostream\_params(params...)\};}
\DoxyCodeLine{445 \}}
\DoxyCodeLine{446 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// FMT\_USE\_FCNTL}}
\DoxyCodeLine{447 }
\DoxyCodeLine{448 FMT\_END\_EXPORT}
\DoxyCodeLine{449 FMT\_END\_NAMESPACE}
\DoxyCodeLine{450 }
\DoxyCodeLine{451 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// FMT\_OS\_H\_}}

\end{DoxyCode}
